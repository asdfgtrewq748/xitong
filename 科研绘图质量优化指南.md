# 科研绘图质量优化指南

## 概述

本指南详细说明了如何使用系统生成符合学术期刊和科研报告要求的高质量图表。优化后的系统支持多种期刊标准格式，提供科研级配色方案和专业的排版规范。

## 🎯 主要优化内容

### 1. 分辨率和DPI优化
- **标准质量**: 300 DPI (多数期刊要求)
- **出版级质量**: 600 DPI (高影响因子期刊要求)
- **矢量图支持**: SVG、EPS格式 (无损缩放)

### 2. 科研配色方案
- **色盲友好**: Okabe-Ito、Wong配色方案
- **期刊标准**: Nature、Science、Cell配色
- **专业学术**: 符合学术规范的配色组合

### 3. 学术字体配置
- **西文字体**: Times New Roman、Arial、Helvetica
- **中文字体**: 宋体、黑体、楷体
- **字体规范**: 遵循期刊字体大小标准

### 4. 导出格式支持
- **图像格式**: PNG (300/600 DPI)、TIFF、SVG、EPS、PDF
- **数据格式**: CSV、Excel
- **配置导出**: JSON配置文件

## 📊 期刊标准配置

### Nature 期刊标准
```javascript
// 图表尺寸
单栏: 89mm × 120mm
双栏: 183mm × 120mm
全宽: 247mm × 180mm

// 技术要求
分辨率: 300 DPI
字体: Arial (无衬线)
线宽: 最小0.5pt
格式: TIFF、JPEG、PNG
```

### Science 期刊标准
```javascript
// 图表尺寸
单栏: 90mm × 120mm
双栏: 180mm × 120mm
全宽: 240mm × 170mm

// 技术要求
分辨率: 300 DPI
字体: Helvetica (无衬线)
线宽: 最小1pt
格式: TIFF、EPS、PDF
```

### IEEE 期刊标准
```javascript
// 图表尺寸
单栏: 86mm × 120mm (3.5英寸)
双栏: 178mm × 120mm (7英寸)
全宽: 247mm × 160mm (9.75英寸)

// 技术要求
分辨率: 600 DPI
字体: Helvetica、Times New Roman
线宽: 最小1pt
格式: EPS、PDF、TIFF (推荐灰度)
```

## 🎨 配色方案推荐

### 1. 色盲友好方案 (强烈推荐)
```javascript
okabe_ito: ['#E69F00', '#56B4E9', '#009E73', '#F0E442', '#0072B2', '#D55E00', '#CC79A7']
wong: ['#000000', '#E69F00', '#56B4E9', '#009E73', '#F0E442', '#0072B2', '#D55E00', '#CC79A7']
```

### 2. 科学期刊配色
```javascript
nature_palette: ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd', '#8c564b']
science_palette: ['#0173b2', '#de8f05', '#029e73', '#cc78bc', '#ca9161', '#fbafe4', '#949494']
```

### 3. 专业学术配色
```javascript
academic: ['#2c3e50', '#e74c3c', '#3498db', '#f39c12', '#27ae60', '#9b59b6', '#1abc9c', '#34495e']
publication: ['#08519c', '#a50f15', '#006d2c', '#d94801', '#7a0177', '#0868ac', '#fdae61', '#abdda4']
```

## 🔧 使用方法

### 1. 基本使用
```javascript
import { exportChartAsPNG, exportForJournal } from '@/utils/exportHelpers'

// 高质量PNG导出
await exportChartAsPNG(chartInstance, {
  filename: 'figure1',
  quality: 'high',        // 300 DPI
  backgroundColor: '#ffffff'
})

// 出版级PNG导出
await exportChartAsPNG(chartInstance, {
  filename: 'figure1',
  quality: 'print',       // 600 DPI
  width: 2400,
  height: 1600
})
```

### 2. 期刊格式导出
```javascript
// Nature期刊格式
await exportForJournal(chartInstance, 'nature', {
  filename: 'nature_figure1'
})

// Science期刊格式
await exportForJournal(chartInstance, 'science', {
  filename: 'science_figure1'
})

// IEEE期刊格式
await exportForJournal(chartInstance, 'ieee', {
  filename: 'ieee_figure1'
})
```

### 3. 矢量图导出
```javascript
import { exportChartAsSVG } from '@/utils/exportHelpers'

// SVG矢量图导出
await exportChartAsSVG(chartInstance, {
  filename: 'figure1',
  width: 1200,
  height: 800,
  embedFonts: true
})
```

## 📐 图表布局规范

### 1. 标准���局
```
图表标题 (16pt, 居中)
    ↑
图表主体区域 (70% 高度)
    ↓
X轴标签 (12pt) ← 15%边距 → 图例 (10pt, 居中)
```

### 2. 字体大小规范
```javascript
标题: 16pt (粗体)
副标题: 14pt
坐标轴标签: 12pt
坐标轴刻度: 10pt
图例: 10pt
注释: 8pt
```

### 3. 线宽规范
```javascript
主要线条: 1.0-1.5pt
次要线条: 0.5-1.0pt
网格线: 0.3pt (灰色)
误差线: 0.5pt
```

## ⚠️ 常见问题及解决方案

### 1. 图片模糊
**问题**: 导出的图片看起来模糊不清
**解决方案**:
- 使用 `quality: 'print'` 获600 DPI
- 增加导出尺寸: `width: 2400, height: 1600`
- 选择矢量格式: SVG 或 PDF

### 2. 字体显示异常
**问题**: 字体在某些设备上显示不正确
**解决方案**:
- 使用系统默认字体: Arial, Times New Roman
- 在SVG导出时设置 `embedFonts: true`
- 避免使用特殊字体

### 3. 颜色失真
**问题**: 打印或在线发布时颜色发生变化
**解决方案**:
- 使用色盲友好配色方案
- 测试灰度打印效果
- 选择RGB颜色模式

### 4. 文件过大
**问题**: 导出文件超过期刊大小限制
**解决方案**:
- 降低DPI到期刊最低要求
- 使用矢量格式减少文件大小
- 移除不必要的背景和元素

## 📋 期刊投稿检查清单

### Nature/Science系列
- [ ] 分辨率: 300 DPI
- [ ] 格式: TIFF 或 PNG
- [ ] 字体: Arial 或 Helvetica
- [ ] 线宽: 最小0.5pt (Nature) / 1pt (Science)
- [ ] 文件大小: 小于30MB
- [ ] 颜色: RGB模式

### IEEE系列
- [ ] 分辨率: 600 DPI
- [ ] 格式: EPS 或 PDF
- [ ] 字体: Times New Roman 或 Helvetica
- [ ] 线宽: 最小1pt
- [ ] 颜色: 优先灰度
- [ ] 矢量图形: 推荐使用

### PLOS系列
- [ ] 分辨率: 300 DPI
- [ ] 格式: TIFF, EPS, PNG, JPEG
- [ ] 字体: Arial 或 Times New Roman
- [ ] 线宽: 最小1pt
- [ ] 颜色: RGB模式
- [ ] 许可: CC BY许可

## 🚀 高级功能

### 1. 误差线支持
```javascript
// 在数据中包含误差信息
const dataWithError = {
  data: [...],
  errorBars: [
    { type: 'fixed', value: 0.1 },      // 固定误差
    { type: 'data', values: [...] }     // 自定义误差
  ]
}
```

### 2. 回归线分析
```javascript
// 启用回归分析
const config = {
  showRegression: true,
  regressionType: 'linear',
  showEquation: true,
  showR2: true
}
```

### 3. 子图布局
```javascript
// 创建多子图配置
const multiPanelConfig = {
  panels: [
    { data: data1, position: 'A', title: 'Panel A' },
    { data: data2, position: 'B', title: 'Panel B' }
  ],
  layout: '2x1',  // 2行1列
  shareX: true,
  shareY: false
}
```

## 📚 参考资料

1. **Nature Author Guide**: https://www.nature.com/nature/authors/gta/
2. **Science Author Guide**: https://www.science.org/authors/submit-manuscript
3. **IEEE Author Guidelines**: https://ieeeauthorcenter.ieee.org/
4. **PLOS Author Guidelines**: https://journals.plos.org/plosone/s/submission-guidelines

## 🔧 技术支持

如遇到技术问题，请检查：
1. 浏览器版本 (推荐Chrome 90+)
2. ECharts版本 (5.0+)
3. 文件权限和存储空间
4. 网络连接状态

---

**版本**: v1.0.0
**更新日期**: 2024-10-25
**适用系统**: 科研可视化系统 v1.0+